--- 
- hosts: devopsslave2
  become: true
  tasks: 
    - name: "install Git"
      yum: 
        name: git
        state: present

    - name: "install java"                                   
      yum: 
        name: java-1.8.0-openjdk.x86_64
        state: present

    - name: Set JAVA_HOME
      lineinfile:
        dest: /etc/environment
        state: present
        regexp: '^JAVA_HOME'
        line: 'JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk'

    - name: Download Maven
      get_url:
        url: https://dlcdn.apache.org/maven/maven-3/3.8.4/source/apache-maven-3.8.4-src.tar.gz
        dest: /usr/bin

    - name: Unarchive maven
      ansible.builtin.unarchive:
        src: /usr/bin/apache-maven-3.8.4-src.tar.gz
        dest: /usr/bin
        remote_src: yes

    -  name: install maven
       yum:
        name: maven
        state: present
                              
